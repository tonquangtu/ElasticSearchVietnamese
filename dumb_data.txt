Chuyện kể ngày xưa rằng có 5 thầy trò Đường Tăng vượt tám vạn sáu nghìn bốn trăm dặm để tìm kiếm được chân kinh đem về phổ cập cho chúng sinh muôn loài. Năm thầy trò đường tăng vượt bao muôn khổ, trải qua 82 kiếp nạn mới có thể tới được Tây Thiên để thỉnh kinh. Khi tới được Tây Thiên, Phật Tổ có dặn dò Đường Tăng rằng, ” sau khi con lấy được bộ chân kinh thì con cần phải phổ cập cho bọn trẻ trâu nhé con, để bọn chúng có thể phân biệt được tốt xấu thiện ác trong thiên hạ nghe con”.Đường Tăng nghe vậy nên sau khi thỉnh được kinh liền cấp tốc đem về Đông Thổ Đại Đàng để phổ cập lũ trẻ trâu tại sứ. Do bộ chân kinh là quá nhiều, quá đồ sộ, Đường Tăng lại tuổi cao sức yếu không thể nhớ được hết và khó có khả năng để tìm kiếm ra các phần cụ thể bộ chân kinh kỳ vĩ này. Ông ấy chỉ nhớ sơ sơ được một số từ trong bộ, việc lật ra tìm kiếm từng trang là bất khả thi do bộ chân kinh là quá đồ sộ. Thời lúc ấy đại đệ tử của Đường Tăng là Tôn Ngộ Không (Shay Banon), thần công quảng đại, có thể dời non lấp biển. Ngộ Không không muốn sư phụ phải mệt nhọc thêm nữa trong việc tìm kiếm những bài giảng chân kinh trong bộ chân kinh đồ sộ kia nên  bèn dùng thần công, đóng cửa tu luyện để tạo ra 1 Search pháp có khả năng nhanh chóng truy tìm ra 1 bài giảng chân kinh có trong bộ chân kinh.Tâm pháp khẩu quyết bộ search pháp được dựa trên nền tảng Lucene index thần công, sau khi lượm lọc và phối kết hợp bộ lucene index thần công, Shay Banon đã cho ra đời bộ Search Pháp nổi danh trong thiên hạ và được lưu truyền trong nhân gian tới tận ngày nay .Bộ Search pháp này giúp ích rất nhiều cho Đường Tăng để có thể nhanh chóng truyền tải được chân kinh cho chúng sinh muôn loài. Sau này bộ Search pháp được truyền lại cho muôn đời sau và được thiên hạ gọi là Elasticsearch thần công.Thiên hạ đồn rằng, trong giới giang hồ , bất kỳ cao thủ nào chỉ cần tu luyện bộ Elasticsearch thần công này thì đều có thể truy tìm được bất cứ ai ở bất kỳ đâu, chỉ cần 3 hồi chuông vang lên sau tên người đó thì lập tức đã truy tìm ra. Do vậy các bậc cao thủ trong giang hồ nếu muốn truy tìm kẻ thù, hay điều tra phá án cho triều đình thì đều cần phải nắm vững bộ Search pháp này.Elasticsearch theo như giới giang hồ đồn đó là 1 RESTful search and analysis engine, nó chạy trên server riêng, nó tích hợp luôn cái đê bê (database) của nó vào luôn bộ search and analysis này luôn nên là cho phép mình lưu trữ dữ liệu của mình luôn chứ nó éo cần thêm cái đê bê khác nữa, hay vãi ra các bác ạ. Search trong elasticsearch đó là Full text search, tìm kiếm trên toàn bộ văn bản.Một số đại ma đầu trong giới giang hồ thì cho rằng Elasticsearch không chỉ chứa search pháp lợi hại mà nó còn  chứa cả binh khí trong đó, binh khí đó còn gọi là vô hình đê bê (database) khí. Elasticsearch lưu trữ cả dữ liệu của mình chứ không đơn thuần chỉ là 1 search engine. Mấy bác trên giang hồ nhiều khi vẫn gọi nó là 1 đê bê cơ, chứ không gọi là search engine đâu. Đê bê của elasticsearch nó thiết kế hay lắm cơ, nào là theo kiểu phân tán này, nào đọc song song này, mà nó thiết kế mục đích cho việc search nên là đọc nhanh lắm các bác à. Mà muốn đọc nhanh, search nhanh thì phải cần được đánh index cẩn thận với kỹ thuật khéo léo. Ở đây thì elasticsearch pháp vận dụng bộ Lucene index thần công để đánh index cho dữ liệu trong đê bê.À mà trong search pháp nay thì thuật ngữ index được coi là 1 database, 1 type được coi  là 1 bảng trong sql. Việc đánh index trong elastic nó khác với bọn sql lắm. Bọn elastic này là nó dùng inverted index –> tức là nó đang đi ánh xạ từng term của dữ liệu  tới nơi lưu trữ term đó. Còn trong sql, cái index mình hay dùng thì được gọi clustered index (sql nay củng có inverted index nhá), cái clustered index này là nó đi ánh xạ từng field của bản ghi mà mình đánh index tới nơi lưu trữ bản ghi chứa field này. Các bạn có thể xem ở đây để hiểu rõ hơn về inverted index. Elasticsearch được thiết kế cho mục đích search, do vậy với những nhiệm vụ khác ngoài search như CRUD thì elastic kém thế hơn so với những database khác như Mongodb, Mysql …. Do vậy người ta ít khi dùng elasticsearch làm database chính, mà thường kết hợp nó với 1 database khác. Về lý do tại sao lại làm như vậy thì mình sẽ trình bày kỹ ở phần P4 của series này.Trong elasticsearch không có khái niệm database transaction , tức là nó sẽ không đảm bảo được toàn vẹn dữ liệu trong các hoạt động Write, Update, Delete.Tức khi chúng ta thực hiện thay đổi nhiều bản ghi nếu xảy ra lỗi thì sẽ làm cho logic của mình bị sai hay dẫn tới mất mát dữ liệu. Đây cũng là 1 phần khiến elasticsearch không nên là database chính.Elasticsearch không cung cấp bất kỳ tính năng nào cho việc xác thực và phân quyền (authentication or authorization). Để có thể security cho nó ta cần phải cài thêm các plugin. Từ các phiên bản lớn hơn 5.0.0 chúng ta có thể sử dụng X_Pack entension cho việc security. Làm thế nào để chúng ta đánh giá được 1 search engine là tốt hay không. Làm thế nào để tìm được search engine phù hợp nhất với hệ thống của chúng ta. Để trả lời cho câu hỏi đó ta cần xem xét kỹ lưỡng về những yêu cầu của hệ thống bạn. Đôi khi chúng ta không cần thiết những bộ search engine thần thánh như này mà chỉ đơn giản là cần 1 full text search được tích hợp sẵn vào trong các database có sẵn.
